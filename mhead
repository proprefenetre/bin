#!/bin/bash


extern=$(xrandr | grep -i "vga" | awk '{print $1}')
intern=$(xrandr | grep -i "lvds" | awk '{print $1}')

if [[ $# != 0 ]]; then
    case $1 in
        --test ) echo LVDS: "$intern"
                 echo VGA:  "$extern"
                 ;;

        -i ) xrandr --output "$intern" --auto --output "$extern" --off ;;
        -e ) xrandr --output "$extern" --auto --output "$intern" --off ;;
        -ipr ) xrandr --output "$intern" --auto --primary --output "$extern" \
            --auto --left-of "$intern" ;;
        -ipl ) xrandr --output "$intern" --auto --primary --output "$extern" \
            --auto --right-of "$intern" ;;
        -epr ) xrandr --output "$extern" --auto --primary --output "$intern" \
            --auto --left-of "$extern" ;;
        -epl ) xrandr --output "$extern" --auto --primary --output "$intern" \
            --auto --right-of "$extern" ;;

        * )
            echo "usage:"
            echo "$0 [-i -e -ip[r l] -ep[r l]]"
            echo "-i:   use $intern only"
            echo "-e:   use $extern only"
            echo "-ip[r l]:   use both; $intern is primary; to the Right or Left
            of $extern"
            echo "-ep[r l]:   use both; $extern is primary; to the Right or Left
            of $intern" ;;
    esac
else
    if xrandr | grep "$extern disconnected"; then
        xrandr --output "$intern" --auto --output "$extern" --off 
    else
        xrandr --output "$extern" --auto --output "$intern" --off

    fi        
fi
